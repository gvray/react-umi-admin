# React UMI Admin

ğŸš€ åŸºäº React 18 + UMI 4 + Ant Design 5 çš„ç°ä»£åŒ–ä¸­åå°ç®¡ç†ç³»ç»Ÿæ¨¡æ¿

æ­£åœ¨åˆ¶ä½œä¸­...ï¼Œæ•¬è¯·æœŸå¾…ï¼Œç‚¹èµæ”¶è—ä¸è¿·è·¯ã€‚

åŒ äººç²¾ç¥ï¼Œç”¨å¿ƒé›•ç¢æ¯ä¸€ä¸ªç»†èŠ‚ï¼Œæ¶æ„éƒ¨åˆ†ä¼šåšåˆ°æè‡´ã€‚ï¼ˆä¸šåŠ¡éƒ¨åˆ†åªæ˜¯ä¾‹å­ï¼‰

åŸºäº react18ï¼Œumi4ï¼Œantd5 ç­‰çš„ä¸­åå°ç®¡ç†æ¨¡ç‰ˆï¼Œå¯ä»¥å¿«é€Ÿå¼€å±•æˆ‘ä»¬çš„ä¸šåŠ¡åŠŸèƒ½ã€‚

ç‰¹åˆ«è¯´æ˜ï¼Œç›®å‰å‰åç«¯ä¸€èµ·å¼€å‘ï¼Œå¯èƒ½æ•°æ®ä¸å¯¹ç‰ˆï¼Œå¤§å®¶å…³æ³¨è€å¿ƒç­‰å¾…ã€‚æˆ‘è¦æŠŠå‰ååšåˆ°æè‡´çš„ä¸“ä¸šï¼Œæ— å¯æŒ‘å‰”ã€‚åé¢å‰ç«¯æ¶æ„éƒ¨åˆ†ä¼šåˆ‡æ¢ viteï¼Œä¸šåŠ¡éƒ¨åˆ†ä¸å˜ã€‚

## ğŸ¯ é€‚ç”¨åœºæ™¯

1. å¿«é€Ÿå¼€å‘ä¸­åå°ç®¡ç†ç³»ç»Ÿï¼Œä¸å¿…è¦ä¸ºæŠ€æœ¯é€‰å‹å’Œå°è£…æ¨¡å—è€Œæµªè´¹ç²¾åŠ›å’Œæ—¶é—´ï¼Œè€Œä¸”ä¸éœ€è¦å…¶ä»–ä¸šåŠ¡ä»£ç ã€‚
2. å½“å¾ˆå¤šåŠŸèƒ½æˆ‘ä»¬éœ€è¦è‡ªå·±å®ç°ï¼Œæ‰€ä»¥è¿™å¥—é¡¹ç›®åªå®ç°æ¶æ„éƒ¨åˆ†å’Œç”¨æˆ·ç™»é™†é‰´æƒã€‚å¸‚é¢åŠŸèƒ½å¤ªå¤šçš„é¡¹ç›®åè€Œä¸åˆ©äºæˆ‘ä»¬å¿«é€Ÿå¼€å‘ã€‚ï¼ˆ é€šå¸¸æˆ‘ä»¬éœ€è¦ç ”ç©¶å¾ˆä¹…ï¼Œè¿˜è¦åˆ é™¤å¤§éƒ¨åˆ†å†…å®¹ã€‚ è€Œä¸”å‰åç«¯ä¸¤å¥—é¡¹ç›®å¾ˆéš¾è§£è€¦ã€‚åé¢æˆ‘ä¼šå®ç°æ›´å¤šçš„åŠŸèƒ½åŒ…æ‹¬é…å¥—çš„åå°ç³»ç»Ÿï¼Œä¸ä¼šæ”¾åˆ°è¿™ä¸ªé¡¹ç›®ä¸‹ï¼Œä¼šç»™ä¼ é€é—¨ã€‚ï¼‰

## é¡¹ç›®åŸºå»º

### âœ¨ ç‰¹æ€§

- [x] çº¦å®šå¼å¤šç¯å¢ƒæ„å»ºå’Œå˜é‡é…ç½® [#33](https://github.com/gvray/react-umi-admin/issues/33) [#15](https://github.com/gvray/react-umi-admin/issues/15)
- [x] ä¸»é¢˜å®šåˆ¶å’Œç®¡ç† [#24](https://github.com/gvray/react-umi-admin/issues/24)
- [x] è‡ªå®šä¹‰å¸ƒå±€ Layout å’Œèœå•
- [x] ç”¨æˆ·ç™»å½•é‰´æƒ
- [x] ç½‘ç»œè¯·æ±‚æ¨¡å— åŸºäº axios [#32](https://github.com/gvray/react-umi-admin/issues/32)
- [x] è¯·æ±‚æ–¹æ¡ˆ [#6](https://github.com/gvray/react-umi-admin/issues/6)
- [x] ç³»ç»Ÿå¼‚å¸¸å¤„ç†
- [ ] æƒé™ç®¡ç†
- [x] UI ç»„ä»¶åº“ è¿™é‡Œé›†æˆ antd5.x [#4](https://github.com/gvray/react-umi-admin/issues/4)
- [x] å…¨å±€çŠ¶æ€ç®¡ç† [#5](https://github.com/gvray/react-umi-admin/issues/5)
- [x] å›½é™…åŒ–(å¤šè¯­è¨€) åœ¨`~src/locales`æ”¯æŒå›½é™…åŒ–å®šä¹‰ [#7](https://github.com/gvray/react-umi-admin/issues/7)
- [x] Mock æœ¬åœ°æ•°æ®æ¨¡æ‹Ÿ `~mock/` é‡Œçš„æ–‡ä»¶éƒ½ä¼šè‡ªåŠ¨åŠ è½½ [#8](https://github.com/gvray/react-umi-admin/issues/8) MOCK_ENABLED å¼€å¯/å…³é—­åŠŸèƒ½
- [ ] è·¯ç”± ä»¥åŠ keepalive
- [ ] è·¯ç”±æ•°æ®åŠ è½½
- [x] æœ¬åœ°ä»£ç† [#34](https://github.com/gvray/react-umi-admin/issues/34)
- [x] ç¼–ç è§„èŒƒä»¥åŠ`git`æäº¤éªŒè¯ [#12](https://github.com/gvray/react-umi-admin/issues/12)
- [x] å·¥ç¨‹ä»£ç è°ƒè¯• [#13](https://github.com/gvray/react-umi-admin/issues/13)
- [ ] æµ‹è¯•
- [x] æ ·å¼ç®¡ç†æ–¹æ¡ˆ [#17](https://github.com/gvray/react-umi-admin/issues/17)
- [x] Typescript å…¨é¢æ”¯æŒ
- [ ] OpenApi
- [x] å¾®ç”Ÿæˆå™¨ [#35](https://github.com/gvray/react-umi-admin/issues/35) Umi ä¸­å†…ç½®äº†ä¼—å¤šå¾®ç”Ÿæˆå™¨ï¼ŒååŠ©ä½ åœ¨å¼€å‘ä¸­å¿«é€Ÿåœ°å®Œæˆä¸€äº›ç¹ççš„å·¥ä½œã€‚
- [ ] å¼€å‘æ’ä»¶
- [ ] MPA æ¨¡å¼
- [x] æ‰“åŒ…æ„å»ºä¼˜åŒ–
- [ ] ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- [ ] å¾®å‰ç«¯
- [ ] ç«™ç‚¹ç»Ÿè®¡

### ğŸš€ æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½

- [x] ç”¨æˆ·æ³¨å†Œ
- [x] ç”¨æˆ·ç™»å½•
- [x] ä»ªè¡¨ç›˜
- [x] ä¸ªäººä¸­å¿ƒ
- [x] ç”¨æˆ·ç®¡ç†
- [x] è§’è‰²ç®¡ç†
- [x] æƒé™ç®¡ç†
- [x] èµ„æºç®¡ç†
- [x] éƒ¨é—¨ç®¡ç†
- [x] å²—ä½ç®¡ç†
- [x] å­—å…¸ç®¡ç†
- [x] é…ç½®ç®¡ç†

## ğŸ”§ å¼€å‘ç¯å¢ƒ

- **Node.js**: >= 16.0.0
- **åŒ…ç®¡ç†å™¨**: PNPM (æ¨è)
- **ç¼–è¾‘å™¨**: VSCode (æ¨è)
- **æµè§ˆå™¨**: Chrome >= 80

## å…¶ä»–æŠ€æœ¯æ ˆ

- [vue-pinia-admin](https://github.com/gvray/vue-pinia-admin) å¼€å‘ä¸­
- react-vite-admin å¼€å‘ä¸­ æœªå¼€æ”¾
- next-admin å¼€å‘ä¸­ æœªå¼€æ”¾
- [nest-admin](https://github.com/gvray/nest-admin) åç«¯ å¼€å‘ä¸­
- java-admin åç«¯ å¼€å‘ä¸­ æœªå¼€æ”¾

## åå°æ•°æ®

åç«¯ api åœ°å€ [nest-admin](https://github.com/gvray/nest-admin) å¼€å‘ä¸­

å½“åç«¯æ²¡æœ‰æ•°æ®çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥è‡ªå·±`mock`æ•°æ®

- ç›®å‰åå°æ•°æ®éƒ½åœ¨`~/mock`ä¸‹ï¼Œè¿™é‡Œæ˜¯åŸºäº express å¯åŠ¨çš„æœ¬åœ° api æœåŠ¡ã€‚
- è¿™æ ·å°±å¯ä»¥å¾ˆçµæ´»çš„åšå¥½å‰ç«¯éƒ¨åˆ†ï¼Œç„¶åçµæ´»çš„å¯¹æ¥ä¸€ä¸ªåç«¯æœåŠ¡ã€‚

æ³¨æ„ï¼šç›®å‰åªæä¾›äº†ç™»é™†å’Œ user æ¨¡å—çš„ mock æ•°æ®

## å¯åŠ¨é¡¹ç›®

```bash
pnpm install

npm start
```

## ç™»é™†é¡µé¢

ç™»é™†è·¯å¾„ï¼š/login ç™»é™†è´¦å·ï¼šadmin@example/admin/13800138000 ç™»é™†å¯†ç ï¼šadmin123

![login](./src/assets/snapshoot/screencapture-login.png)

## é¦–é¡µ

è·¯å¾„ï¼š/

![dashboard](./src/assets/snapshoot/screencaptrue-dashboard.png)

## ç”¨æˆ·é¡µé¢

è·¯å¾„ï¼š/user

![user](./src/assets/snapshoot/screencapture-user.png)

## ä¸ªäººä¸­å¿ƒ

è·¯å¾„ï¼š/profile

![profile](./src/assets/snapshoot/screencaptrue-profile.png)

## æ‰“åŒ…åˆ†æ

```bash
npm run analyze
```

![analyze](./src/assets/snapshoot/screencapture-analyze.png)

## umijs é¸¡è‚‹åŠŸèƒ½

| åŠŸèƒ½ | é¸¡è‚‹ç†ç”± | æ›¿ä»£å»ºè®® |
| --- | --- | --- |
| âœ… **access æƒé™æ¨¡å‹** | ç®€å•åœºæ™¯å¥½ç”¨ï¼Œä½†å¤æ‚æƒé™ç»“æ„ï¼ˆèµ„æºçº§ã€è§’è‰²ç»„åˆï¼‰æ‰©å±•éš¾ï¼Œç±»å‹æç¤ºä¸å‹å¥½ï¼Œå’Œ wrappers å†²çªå¤š | ç”¨è‡ªå®šä¹‰ hooks + æƒé™ç»„ä»¶ï¼Œå¦‚ `<Permission>` æˆ–æ›´ç»†ç²’åº¦çš„ç­–ç•¥ç³»ç»Ÿ |
| âœ… **wrappersï¼ˆé«˜é˜¶ç»„ä»¶é…ç½®è·¯ç”±ï¼‰** | æŠŠæƒé™ã€å¸ƒå±€ç”¨è·¯ç”±é…ç½®ç»‘å®šï¼Œæœ‰ä¾µå…¥æ€§ä¸”éš¾è°ƒè¯•ï¼Œä¸å¦‚ React ä¸­å¸¸è§„ HOC/useEffect å†™æ³•æ¸…æ™° | è‡ªå®šä¹‰ Layout æˆ–é¡µé¢å†…éƒ¨é€»è¾‘åˆ¤æ–­æ›´çµæ´» |
| âœ… **request æ’ä»¶ï¼ˆå°è£…çš„** `umi-request`**ï¼‰** | å°è£…å±‚å¤ªé‡ã€ä¾èµ–æ—§ç‰ˆ fetch polyfillï¼Œçµæ´»æ€§å·®ï¼Œä¸å¦‚ axios æˆ– useRequestã€react-query çµæ´» | æ›¿æ¢ä¸º axios + è‡ªå®šä¹‰ hooksï¼Œæˆ–ç›´æ¥ç”¨ SWR/react-query |
| âœ… **@/models å…¨å±€çŠ¶æ€ç®¡ç†** | é€‚åˆè€é¡¹ç›®æˆ–çº¦å®šå¼å¼€å‘ï¼Œä½†æ¨¡å‹å…±äº«å¤æ‚ï¼Œå¼‚æ­¥é€»è¾‘ä¸å¦‚ Redux Toolkitã€zustand æ˜ç¡® | ä¸­å¤§å‹é¡¹ç›®å»ºè®®ç›´æ¥ç”¨ Zustandã€Redux Toolkit |
| âœ… **locale å›½é™…åŒ–æ’ä»¶** | å¼ºè€¦åˆçº¦å®šå¼ç›®å½•ã€ts ç±»å‹æç¤ºå·®ï¼Œå¤šè¯­è¨€èµ„æºé›†ä¸­ç®¡ç†ä¸ä¾¿ | æ¨èç”¨ `i18next` æˆ– `vue-i18n/react-i18next` è‡ªä¸»æ§åˆ¶ |
| âœ… **çº¦å®šå¼ç›®å½•ç»“æ„ï¼ˆç‰¹åˆ«æ˜¯** `page/document.tsx`**,** `layouts`**,** `app.ts`**ï¼‰** | é¡¹ç›®å¤æ‚åè€¦åˆåº¦é«˜ï¼Œé€»è¾‘åˆ†æ•£åœ¨å¤šä¸ªæ–‡ä»¶ä¸­ï¼Œä¸æ˜“ç»Ÿä¸€ç»´æŠ¤ | è½¬å‘é…ç½®å¼æˆ–è€… module-based ç»“æ„ï¼ˆå¦‚ routes.ts + å…¨å±€ layoutï¼‰ |
| âœ… **å¾®å‰ç«¯ qiankun é›†æˆæ’ä»¶** | ä¸€èˆ¬é¡¹ç›®å¾®å‰ç«¯ç”¨ä¸äº†ï¼Œæ’ä»¶é…ç½®ç¹çï¼Œè°ƒè¯•ä½“éªŒä¸å¦‚æ‰‹å†™é›†æˆ | è‡ªå·±æ‰‹å†™ qiankun æ¥å…¥ï¼ˆå¾ˆç®€å•ï¼Œ3-5 ä¸ªç”Ÿå‘½å‘¨æœŸï¼‰ |
| âœ… **é“¾å¼æ’ä»¶ç³»ç»Ÿï¼ˆæ’ä»¶å¥—æ’ä»¶ï¼‰** | æ’ä»¶æœºåˆ¶å¾ˆå¼ºä½†è°ƒè¯•å’Œå®šåˆ¶åŒ–éº»çƒ¦ï¼Œä¸šåŠ¡å›¢é˜ŸäºŒæ¬¡å°è£…æˆæœ¬é«˜ | åªå¯ç”¨å¿…é¡»æ’ä»¶ï¼Œå…¶ä½™åŠŸèƒ½è£¸å†™æ›´é€æ˜ |
| âœ… **å†…ç½® DVA æ”¯æŒ** | DVA å­¦ä¹ æˆæœ¬é«˜ï¼Œå¼‚æ­¥å’Œå‰¯ä½œç”¨å¤„ç†é™ˆæ—§ï¼Œç°ä»£é¡¹ç›®æå°‘ä½¿ç”¨ | æ¨è Zustandã€RTKã€Recoil ç­‰ç°ä»£çŠ¶æ€åº“ |

æ³¨æ„: @umijs/maxï¼Œé»‘ç›’æ¯”è¾ƒä¸¥é‡ï¼ŒåæœŸé¡¹ç›®ä¿®æ”¹æ‰©å±•æˆæœ¬å¤ªå¤§ã€‚
